<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Hello Testnet</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="module">

      import { ethers } from './ethers-5.1.esm.min.js'

      async function getGreeting() {

        const GREETER_ABI     = `[{"inputs":[{"internalType":"string","name":"_greeting","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"greet","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_greeting","type":"string"}],"name":"setGreeting","outputs":[],"stateMutability":"nonpayable","type":"function"}]`
        const GREETER_ADDRESS = '0xE0282e76237B8eB19A5D08e1741b8b3e2691Dadd'
        const provider        = new ethers.providers.Web3Provider(window.ethereum)
        const contract        = new ethers.Contract(GREETER_ADDRESS, GREETER_ABI, provider)
        const response        = await contract.greet()

        document.getElementById('output').innerText = response

      }

      if (!window.ethereum) {
        document.getElementById('output').innerText = 'Please install and connect Metamask to a testnet for this demo!'
      } else {
        getGreeting()
      }

    </script>
  </head>
  <body>
    <div id="output"></div>
  </body>
</html>